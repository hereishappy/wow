<!DOCTYPE html>
<html lang="hi">
<head>
  <meta charset="UTF-8">
  <title>Simple Hindi Interview - Scaffolding</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      text-align: center;
      background: #f4f4f4;
      padding: 30px;
    }

    #avatarContainer {
      margin-bottom: 20px;
    }

    #questionBox {
      font-size: 1.5rem;
      margin: 20px;
    }

    #timer {
      font-size: 2rem;
      color: crimson;
    }

    button {
      font-size: 1rem;
      padding: 10px 25px;
      margin-top: 20px;
      background-color: #008cba;
      color: white;
      border: none;
      cursor: pointer;
    }

    button:hover {
      background-color: #005f6b;
    }

    audio {
      margin-top: 10px;
    }
  </style>
</head>
<body>
  <h1>üé§ Hindi ‡§á‡§Ç‡§ü‡§∞‡§µ‡•ç‡§Ø‡•Ç - Scaffolding (DEMO)</h1>

  <div id="avatarContainer">
    <video width="300" autoplay muted loop>
      <source src="https://www.w3schools.com/html/mov_bbb.mp4" type="video/mp4">
      ‡§Ü‡§™‡§ï‡•Ä ‡§¨‡•ç‡§∞‡§æ‡§â‡§ú‡§º‡§∞ ‡§µ‡•Ä‡§°‡§ø‡§Ø‡•ã ‡§∏‡§™‡•ã‡§∞‡•ç‡§ü ‡§®‡§π‡•Ä‡§Ç ‡§ï‡§∞‡§§‡§æ‡•§
    </video>
    <p><i>AI ‡§á‡§Ç‡§ü‡§∞‡§µ‡•ç‡§Ø‡•Ç‡§Ö‡§∞ (Demo Look)</i></p>
  </div>

  <div id="questionBox">‡§∂‡•Å‡§∞‡•Ç ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§®‡•Ä‡§ö‡•á ‡§ï‡•ç‡§≤‡§ø‡§ï ‡§ï‡§∞‡•á‡§Ç</div>
  <div id="timer">‚è≥</div>

  <button id="startBtn" onclick="startInterview()">üî∞ ‡§á‡§Ç‡§ü‡§∞‡§µ‡•ç‡§Ø‡•Ç ‡§∂‡•Å‡§∞‡•Ç ‡§ï‡§∞‡•á‡§Ç</button>
  <div id="resultBox"></div>

  <script>
    const questions = [
      "Cuplok ‡§∏‡•ç‡§ï‡•à‡§´‡•ã‡§≤‡•ç‡§°‡§ø‡§Ç‡§ó ‡§ï‡•á ‡§Æ‡•Å‡§ñ‡•ç‡§Ø ‡§ò‡§ü‡§ï ‡§ï‡•å‡§®-‡§ï‡•å‡§® ‡§∏‡•á ‡§π‡•ã‡§§‡•á ‡§π‡•à‡§Ç?",
      "Work at height ‡§ï‡§∞‡§§‡•á ‡§∏‡§Æ‡§Ø ‡§ï‡•å‡§®-‡§ï‡•å‡§® ‡§∏‡•á PPE ‡§ú‡§∞‡•Ç‡§∞‡•Ä ‡§π‡•à‡§Ç?",
      "Scaffolding inspection ‡§ï‡§ø‡§§‡§®‡•á ‡§∏‡§Æ‡§Ø ‡§Æ‡•á‡§Ç ‡§ï‡§∞‡§®‡•Ä ‡§ö‡§æ‡§π‡§ø‡§è?",
      "Cuplok ‡§î‡§∞ Tubular ‡§∏‡•ç‡§ï‡•à‡§´‡•ã‡§≤‡•ç‡§°‡§ø‡§Ç‡§ó ‡§Æ‡•á‡§Ç ‡§ï‡•ç‡§Ø‡§æ ‡§Ö‡§Ç‡§§‡§∞ ‡§π‡•à?",
      "Load bearing test ‡§ï‡§æ ‡§ï‡•ç‡§Ø‡§æ ‡§Æ‡§π‡§§‡•ç‡§µ ‡§π‡•à?",
      "Work at height ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ï‡•å‡§®-‡§ï‡•å‡§® ‡§∏‡•á safety tags ‡§π‡•ã‡§§‡•á ‡§π‡•à‡§Ç?",
      "Scaffolder ‡§ï‡•ã ‡§ï‡§ø‡§∏ certification ‡§ï‡•Ä ‡§ú‡§∞‡•Ç‡§∞‡§§ ‡§π‡•ã‡§§‡•Ä ‡§π‡•à?",
      "Scaffolding ‡§ï‡•á base preparation ‡§Æ‡•á‡§Ç ‡§ï‡•ç‡§Ø‡§æ-‡§ï‡•ç‡§Ø‡§æ ‡§¶‡•á‡§ñ‡§®‡§æ ‡§π‡•ã‡§§‡§æ ‡§π‡•à?",
      "Cuplok verticals ‡§î‡§∞ horizontals ‡§ï‡•à‡§∏‡•á fit ‡§π‡•ã‡§§‡•á ‡§π‡•à‡§Ç?",
      "Platform width ‡§ï‡§ø‡§§‡§®‡§æ ‡§π‡•ã‡§®‡§æ ‡§ö‡§æ‡§π‡§ø‡§è scaffold ‡§™‡§∞?"
    ];

    let current = 0;
    let shuffled = [];
    let recorder, audioChunks = [];

    function startInterview() {
      shuffled = questions.sort(() => 0.5 - Math.random()).slice(0, 10);
      current = 0;
      document.getElementById("startBtn").style.display = "none";
      askQuestion();
    }

    function askQuestion() {
      if (current >= shuffled.length) {
        endInterview();
        return;
      }

      const q = shuffled[current];
      document.getElementById("questionBox").innerText = `‡§™‡•ç‡§∞‡§∂‡•ç‡§® ${current + 1}: ${q}`;
      startTimer(20);
      startRecording();
    }

    function startTimer(sec) {
      let timeLeft = sec;
      const timerEl = document.getElementById("timer");

      const interval = setInterval(() => {
        timerEl.innerText = `‚è≥ ${timeLeft} ‡§∏‡•á‡§ï‡§Ç‡§° ‡§∂‡•á‡§∑`;
        timeLeft--;

        if (timeLeft < 0) {
          clearInterval(interval);
          stopRecording();
        }
      }, 1000);
    }

    async function startRecording() {
      try {
        const stream = await navigator.mediaDevices.getUserMedia({ audio: true });
        recorder = new MediaRecorder(stream);
        audioChunks = [];

        recorder.ondataavailable = e => audioChunks.push(e.data);
        recorder.onstop = () => {
          const audioBlob = new Blob(audioChunks);
          const audioURL = URL.createObjectURL(audioBlob);
          const audio = document.createElement("audio");
          audio.controls = true;
          audio.src = audioURL;
          document.body.appendChild(audio);
        };

        recorder.start();
      } catch (err) {
        alert("üé§ ‡§Æ‡§æ‡§á‡§ï ‡§ï‡•Ä ‡§Ö‡§®‡•Å‡§Æ‡§§‡§ø ‡§®‡§π‡•Ä‡§Ç ‡§Æ‡§ø‡§≤‡•Ä! ‡§ï‡•É‡§™‡§Ø‡§æ ‡§è‡§ï‡•ç‡§∏‡•á‡§∏ ‡§¶‡•á‡§Ç‡•§");
      }
    }

    function stopRecording() {
      if (recorder && recorder.state === "recording") recorder.stop();
      current++;
      setTimeout(() => askQuestion(), 1000);
    }

    function endInterview() {
      document.getElementById("questionBox").innerText = "‚úÖ ‡§á‡§Ç‡§ü‡§∞‡§µ‡•ç‡§Ø‡•Ç ‡§∏‡§Æ‡§æ‡§™‡•ç‡§§ ‡§π‡•ã ‡§ó‡§Ø‡§æ!";
      document.getElementById("timer").innerText = "";
      document.getElementById("startBtn").style.display = "block";
      document.getElementById("startBtn").innerText = "üîÅ ‡§´‡§ø‡§∞ ‡§∏‡•á ‡§ï‡§∞‡•á‡§Ç";

      document.getElementById("resultBox").innerHTML = `
        <h2>‡§Ü‡§™‡§ï‡§æ ‡§á‡§Ç‡§ü‡§∞‡§µ‡•ç‡§Ø‡•Ç ‡§∞‡§ø‡§ï‡•â‡§∞‡•ç‡§° ‡§π‡•ã ‡§ö‡•Å‡§ï‡§æ ‡§π‡•à‡•§ ‡§ß‡§®‡•ç‡§Ø‡§µ‡§æ‡§¶!</h2>
      `;
    }
  </script>
</body>
</html>
